<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.2.0/socket.io.js" integrity="sha512-WL6WGKMPBiM9PnHRYIn5YEtq0Z8XP4fkVb4qy7PP4vhmYQErJ/dySyXuFIMDf1eEYCXCrQrMJfkNwKc9gsjTjA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="/socket.io/socket.io.js"></script>


<button id="btn"> Update user </button>

<script>
    const socket = io('http://localhost:5000');

    document.getElementById('btn').onclick = () => {
        console.log('clk')
        socket.emit('users.get.all');
    }
    socket.on('users.all', users => {
        console.log(users)
        users.forEach(user => {
            let htmlDivElement = document.createElement('div');

            htmlDivElement.innerText = JSON.stringify(user);

            document.body.appendChild(htmlDivElement);
        })
    })
</script>

</body>
</html>
