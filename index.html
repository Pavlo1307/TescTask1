<!doctype html>
<html>
<head>
    <title>NodeJS socket live notification demo</title>
    <meta charset="utf-8">
</head>
<body>


<button type="button" onclick="sendMessage()">Update user</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.2.0/socket.io.js" integrity="sha512-WL6WGKMPBiM9PnHRYIn5YEtq0Z8XP4fkVb4qy7PP4vhmYQErJ/dySyXuFIMDf1eEYCXCrQrMJfkNwKc9gsjTjA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="/js/jquery.min.js"></script>
<script src="/js/toastr.min.js"></script>
<script src="/js/socket.io.js"></script>
<script>
    const socket = io();
    toastr.options = {
        timeOut: 2000,
        positionClass : 'toast-bottom-right',
        extendedTimeOut: 0,
        fadeOut: 0,
        fadeIn: 0,
        showDuration: 0,
        hideDuration: 0,
        debug: false
    };

    socket.on('new-notification', (resp) => {
        toastr.success(resp, 'New notification')
    });

    function sendMessage() {
        let msg = 'user updated'
        if(msg.trim() !== '') {
            socket.emit("send-notification", msg);
        }

    }
</script>
</body>
</html>
